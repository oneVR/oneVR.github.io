<!DOCTYPE html>
<html lang="en" class="theme-dark">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>VRChat Config Generator</title>
	<link rel="stylesheet" type="text/css" href="css/combined.css">
	<script src="js/highlight.min.js"></script>
	<script src="js/bulma-slider.min.js"></script>
	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<meta name="description"
		  content="This site makes it easy to configure and download the config.json configuration file for VRChat without looking through its documentation and manually editing it.">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://oneVR.dev/config-generator">
	<meta property="og:title" content="VRChat Config Generator">
	<meta property="og:description"
		  content="This site makes it easy to configure and download the config.json configuration file for VRChat without looking through its documentation and manually editing it.">
	<meta property="og:image" content="https://oneVR.dev/ProfilePicture.png">
	<meta name="theme-color" content="#619BFE">
</head>
<body>

<div class="container is-max-desktop">
	<div class="card m-4">
		<div class="card-content">
			<nav class="breadcrumb" aria-label="breadcrumbs">
				<ul>
					<li><a href="/">Home</a></li>
					<li class="is-active"><a href="#" aria-current="page">VRChat Config Generator</a></li>
				</ul>
			</nav>
			<div class="content">
				<h1 class="title is-1">VRChat Config Generator</h1>

				<p>For values left empty or not included in the final configuration file VRChat will use the default
					value. Press preview to see the config file before downloading. Enable feature descriptions below
					for more details on individual settings.</p>

				<p>If you want to report an issue or request a feature, contact me at <a href="mailto:15145@pm.me">15145@pm.me</a>
				</p>

				<div class="cell">
					<label class="checkbox">
						<input type="checkbox" id="featureDescriptionToggle"/>
						Show Feature Descriptions
					</label>
				</div>
			</div>
			<hr>
			<div class="content">
				<form id="configForm">
					<h2 class="title is-3">Cache</h2>
					<div class="field">
						<label for="cacheSize" class="label">Cache Size (in GB)</label>
						<div class="control">
							<input class="input validate-value-range" id="cacheSize" data-minimum-value="20"
								   type="number"
								   min="20" placeholder="Default and minimum value 20 GB">
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the size of the cache folder VRChat uses. Can only be set equal to or higher than the
							default, not lower. Depending on the size of the individual assets cached, they can end up
							slightly larger or smaller than the value set.
						</div>
					</article>
					<div class="field">
						<label for="cacheExpiry" class="label">Cache Expiry (in days)</label>
						<div class="control">
							<input class="input validate-value-range" id="cacheExpiry" data-minimum-value="30"
								   type="number"
								   placeholder="Default and minimum value 30 days">
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the expiry of the cache files. Can only be set equal to or higher than the default,
							not lower. If a specific cache file has not been accessed within the set number of days, it
							will be deleted.
						</div>
					</article>
					<div class="field">
						<label for="cacheDirectory" class="label">Cache Directory</label>
						<div class="control is-expanded">
							<input class="input validate-folder-input" type="text" id="cacheDirectory"
								   placeholder="Example value: D:/VRCCache/">
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the location of the cache folder VRChat uses. Copy a path to a folder from the File
							Explorer. If the path set is invalid the cache location will not change. Stored in <code
								class="is-clickable copy-contents-on-click hint--bottom hint--rounded"
								aria-label="Click to copy!">%LocalAppdata%Low\VRChat\VRChat</code> by default.
							Recommended to be set in a subfolder.
						</div>
					</article>
					<h2 class="title is-3">Camera & Screenshots</h2>
					<div class="field">
						<label for="cameraResolutionWidth" class="label">Camera Resolution Width</label>
						<div class="control">
							<input class="input validate-value-range" type="number" id="cameraResolutionWidth"
								   data-minimum-value="1280" data-maximum-value="7680"
								   placeholder="Accepts a value from 1280 to 7680">
						</div>
					</div>
					<div class="field">
						<label for="cameraResolutionHeight" class="label">Camera Resolution Height</label>
						<div class="control is-expanded">
							<input class="input validate-value-range" type="number" id="cameraResolutionHeight"
								   data-minimum-value="720" data-maximum-value="4320"
								   placeholder="Accepts a value from 720 to 4320">
						</div>
					</div>
					<div class="field is-grouped is-grouped-multiline is-grouped-centered"
						 id="cameraResolutionSelector">
						<p class="control">
							<button class="button is-light" type="button">
								720p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								1080p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								1440p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								2160p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								4320p
							</button>
						</p>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the size of pictures taken with the VR camera. This setting is only active if you set
							it to be used in the camera settings.
						</div>
					</article>
					<div class="field">
						<label for="screenshotResolutionWidth" class="label">Screenshot Resolution Width</label>
						<div class="control">
							<input class="input validate-value-range" type="number" id="screenshotResolutionWidth"
								   data-minimum-value="1280"
								   data-maximum-value="3840" placeholder="Accepts a value from 1280 to 3840">
						</div>
					</div>
					<div class="field">
						<label for="screenshotResolutionHeight" class="label">Screenshot Resolution Height</label>
						<div class="control">
							<input class="input validate-value-range" type="number" id="screenshotResolutionHeight"
								   data-minimum-value="720"
								   data-maximum-value="2160" placeholder="Accepts a value from 720 to 2160">
						</div>
					</div>
					<div class="field is-grouped is-grouped-multiline is-grouped-centered"
						 id="screenshotResolutionSelector">
						<p class="control">
							<button class="button is-light" type="button">
								720p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								1080p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								1440p
							</button>
						</p>
						<p class="control">
							<button class="button is-light" type="button">
								2160p
							</button>
						</p>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the size of screenshots taken with the <kbd>F12</kbd> key on your keyboard.
						</div>
					</article>
					<div class="field">
						<label for="pictureOutputFolder" class="label">Picture Output Folder</label>
						<div class="control is-expanded">
							<input class="input validate-folder-input" type="text" id="pictureOutputFolder"
								   placeholder="Example value: D:/VRCPictures/">
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the location of VRChat saves taken pictures. Copy a path to a folder from the File
							Explorer. If you don't define a custom path, they are saved inside a VRChat <a
								target="_blank"
								href="https://support.microsoft.com/en-us/windows/how-to-get-to-the-desktop-documents-and-pictures-folders-in-file-explorer-3370f06b-0f8d-4b25-be9a-3ee54f381e3d">Pictures</a>folder
							in the Pictures folder set in your operating system. Changing this will cause new pictures
							to be saved in the folder set. Old pictures will stay in the folder where you last had it
							set.
						</div>
					</article>
					<div class="field">
						<label class="label">Picture Output Split by Date (default Yes)
							<button class="delete" type="button"></button>
						</label>
						<div class="control">
							<label class="radio">
								<input type="radio" name="splitByDate" value="true">
								Yes
							</label>
							<label class="radio">
								<input type="radio" name="splitByDate" value="false">
								No
							</label>
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Setting this to No causes pictures to not be sorted into YYYY-MM folders inside your Picture
							Output Folder.
						</div>
					</article>
					<h2 class="title is-3">Other</h2>
					<div class="field">
						<label for="steadycamFOV" class="label">First-Person Steadycam FOV
							<button class="delete" type="button"></button>
						</label>
						<div class="control">
							<input id="steadycamFOV" class="slider has-output is-fullwidth" min="30" max="110"
								   value="30"
								   step="1" type="range">
							<output for="steadycamFOV">0</output>
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Adjust the field of view of the first person view steadycam. The value represents the
							vertical FOV. Most HMDs have a default value of 50-55. If you're looking to visibly increase
							this FOV for your viewers, try values of 65-70.
						</div>
					</article>
					<div class="field">
						<label class="label">Disable Rich Presence (default No)
							<button class="delete" type="button"></button>
						</label>
						<div class="control">
							<label class="radio">
								<input type="radio" name="disableRichPresence" value="true">
								Yes
							</label>
							<label class="radio">
								<input type="radio" name="disableRichPresence" value="false">
								No
							</label>
						</div>
					</div>
					<article class="message feature-description is-hidden">
						<div class="message-body">
							Disable Rich Presence integration with Steam and Discord.
						</div>
					</article>
				</form>
			</div>
			<hr>
			<div class="content">
				<h2 class="title is-5">JSON Preview</h2>
				<pre class="p-0"><code class="language-json" id="jsonPreview">{}</code></pre>
			</div>
			<div class="content">
				<div class="field is-grouped is-grouped-centered">
					<div class="control">
						<button class="button is-primary" id="downloadButton">Download</button>
					</div>
				</div>
			</div>
			<p>
				The downloaded config.json needs to be saved at: <code
					class="is-clickable copy-contents-on-click hint--top hint--rounded" aria-label="Click to copy!">%LocalAppdata%Low\VRChat\VRChat</code><a
					class="is-pulled-right" target="_blank" href="https://docs.vrchat.com/docs/configuration-file">Official
				Documentation</a>
			</p>
		</div>
	</div>
</div>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
        bulmaSlider.attach();
        hljs.highlightAll();

        const checkbox = document.getElementById('featureDescriptionToggle');
        const targetElements = document.querySelectorAll('.feature-description');

        checkbox.addEventListener('change', () => {
            targetElements.forEach(element => {
                if (checkbox.checked) {
                    element.classList.remove("is-hidden");
                } else {
                    element.classList.add("is-hidden");
                }
            });
        });

        const form = document.getElementById('configForm');

        const steadycamFOVInput = document.getElementById('steadycamFOV');
        let steadycamFOVInputChanged = false;

        form.addEventListener('change', (event) => {
            if (event.target === steadycamFOVInput) {
                steadycamFOVInputChanged = true;
            }

            updatePreview();
        });

        const cacheSizeInputs = document.querySelectorAll('.validate-value-range');

        cacheSizeInputs.forEach(input => {
            input.addEventListener('blur', () => {
                if (input.value === "") {
                    input.classList.remove('is-success');
                } else {
                    let value = parseInt(input.value, 10);
                    let minimum = parseInt(input.getAttribute('data-minimum-value'), 10);
                    if (value < minimum) {
                        input.value = minimum;
                    } else if (input.hasAttribute('data-maximum-value')) {
                        let maximum = parseInt(input.getAttribute('data-maximum-value'), 10);
                        if (value > maximum) {
                            input.value = maximum;
                        }
                    }

                    input.classList.add('is-success');

                    updatePreview();
                }
            });
        });

        const folderInputs = document.querySelectorAll('.validate-folder-input');

        folderInputs.forEach(input => {
            input.addEventListener('blur', () => {
                let value = input.value;
                if (value) {
                    value = value.replace(/\\/g, '/');
                    if (!value.endsWith('/')) {
                        value += '/';
                    }
                    input.value = value;
                    input.classList.add('is-success');
                }

                updatePreview();
            });
        });

        const cameraContainer = document.getElementById('cameraResolutionSelector');
        const cameraWidthInput = document.getElementById('cameraResolutionWidth');
        const cameraHeightInput = document.getElementById('cameraResolutionHeight');

        cameraContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('button')) {
                const resolution = event.target.textContent.trim();
                switch (resolution) {
                    case '720p':
                        cameraWidthInput.value = '1280';
                        cameraHeightInput.value = '720';
                        break;
                    case '1080p':
                        cameraWidthInput.value = '1920';
                        cameraHeightInput.value = '1080';
                        break;
                    case '1440p':
                        cameraWidthInput.value = '2560';
                        cameraHeightInput.value = '1440';
                        break;
                    case '2160p':
                        cameraWidthInput.value = '3840';
                        cameraHeightInput.value = '2160';
                        break;
                    case '4320p':
                        cameraWidthInput.value = '7680';
                        cameraHeightInput.value = '4320';
                        break;
                    default:
                        cameraWidthInput.value = '';
                        cameraHeightInput.value = '';
                        break;
                }

                cameraWidthInput.classList.add('is-success');
                cameraHeightInput.classList.add('is-success');

                updatePreview();
            }
        });

        const screenshotContainer = document.getElementById('screenshotResolutionSelector');
        const screenshotWidthInput = document.getElementById('screenshotResolutionWidth');
        const screenshotHeightInput = document.getElementById('screenshotResolutionHeight');

        screenshotContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('button')) {
                const resolution = event.target.textContent.trim();
                switch (resolution) {
                    case '720p':
                        screenshotWidthInput.value = '1280';
                        screenshotHeightInput.value = '720';
                        break;
                    case '1080p':
                        screenshotWidthInput.value = '1920';
                        screenshotHeightInput.value = '1080';
                        break;
                    case '1440p':
                        screenshotWidthInput.value = '2560';
                        screenshotHeightInput.value = '1440';
                        break;
                    case '2160p':
                        screenshotWidthInput.value = '3840';
                        screenshotHeightInput.value = '2160';
                        break;
                    case '4320p':
                        screenshotWidthInput.value = '7680';
                        screenshotHeightInput.value = '4320';
                        break;
                    default:
                        screenshotWidthInput.value = '';
                        screenshotHeightInput.value = '';
                        break;
                }

                screenshotWidthInput.classList.add('is-success');
                screenshotHeightInput.classList.add('is-success');

                updatePreview();
            }
        });

        const copyContentsOnClickElements = document.querySelectorAll('.copy-contents-on-click');

        copyContentsOnClickElements.forEach(element => {
            element.addEventListener('click', function () {
                const text = element.textContent;
                const ariaLabel = element.getAttribute('aria-label');

                navigator.clipboard.writeText(text).then(() => {
                    element.classList.add('hint--success');
                    element.setAttribute('aria-label', 'Copied!');
                    setTimeout(() => {
                        element.classList.remove('hint--success');
                        element.setAttribute('aria-label', ariaLabel);
                    }, 500);
                }).catch(() => {
                    element.classList.add('hint--error');
                    element.setAttribute('aria-label', 'Failed to copy!');
                    setTimeout(() => {
                        element.classList.remove('hint--error');
                        element.setAttribute('aria-label', ariaLabel);
                    }, 500);
                });
            });
        });

        const deleteButtons = document.querySelectorAll('.delete');

        deleteButtons.forEach(button => {
            button.addEventListener('click', () => {
                const parentField = button.closest('.field');

                if (parentField) {
                    const radioInputs = parentField.querySelectorAll('input[type="radio"]');
                    const rangeInput = parentField.querySelector('input[type="range"]');
                    const output = parentField.querySelector('output');

                    radioInputs.forEach(input => {
                        input.checked = false;
                    });

                    if (rangeInput) {
                        rangeInput.value = rangeInput.defaultValue;
                        if (output) {
                            output.textContent = "0";
                        }
                        steadycamFOVInputChanged = false;
                    }
                }

                updatePreview();
            });
        });

        document.getElementById('downloadButton').addEventListener('click', () => {
            const jsonConfig = generateJSON();
            const blob = new Blob([jsonConfig], {type: "application/json"});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = "config.json";
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        });

        function generateJSON() {
            const cacheSize = document.getElementById('cacheSize').value;
            const cacheExpiry = document.getElementById('cacheExpiry').value;
            const cacheDirectory = document.getElementById('cacheDirectory').value;
            const cameraResolutionWidth = document.getElementById('cameraResolutionWidth').value;
            const cameraResolutionHeight = document.getElementById('cameraResolutionHeight').value;
            const screenshotResolutionWidth = document.getElementById('screenshotResolutionWidth').value;
            const screenshotResolutionHeight = document.getElementById('screenshotResolutionHeight').value;
            const pictureOutputFolder = document.getElementById('pictureOutputFolder').value;
            const splitByDateChecked = document.querySelector('input[name="splitByDate"]:checked');
            const steadycamFOV = document.getElementById('steadycamFOV').value;
            const disableRichPresenceChecked = document.querySelector('input[name="disableRichPresence"]:checked');

            const config = {};

            if (cacheSize) {
                config.cache_size = Number(cacheSize);
            }

            if (cacheExpiry) {
                config.cache_expiry_delay = Number(cacheExpiry);
            }

            if (cacheDirectory) {
                config.cache_directory = cacheDirectory;
            }

            if (cameraResolutionWidth) {
                config.camera_res_width = Number(cameraResolutionWidth);
            }

            if (cameraResolutionHeight) {
                config.camera_res_height = Number(cameraResolutionHeight);
            }

            if (screenshotResolutionWidth) {
                config.screenshot_res_width = Number(screenshotResolutionWidth);
            }

            if (screenshotResolutionHeight) {
                config.screenshot_res_height = Number(screenshotResolutionHeight);
            }

            if (pictureOutputFolder) {
                config.picture_output_folder = pictureOutputFolder;
            }

            if (splitByDateChecked) {
                config.picture_output_split_by_date = JSON.parse(splitByDateChecked.value);
            }

            if (steadycamFOV && steadycamFOVInputChanged) {
                config.fpv_steadycam_fov = JSON.parse(steadycamFOV);
            }

            if (disableRichPresenceChecked) {
                config.disableRichPresence = JSON.parse(disableRichPresenceChecked.value);
            }

            return JSON.stringify(config, null, 4);
        }

        function updatePreview() {
            const jsonPreview = document.getElementById('jsonPreview');
            jsonPreview.innerHTML = hljs.highlight(generateJSON(), {language: 'json'}).value;
        }
    });
</script>

</body>
</html>
